<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>UDP-WG Implementation: wireguard::Packet Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">UDP-WG Implementation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacewireguard.html">wireguard</a></li><li class="navelem"><a class="el" href="classwireguard_1_1Packet.html">Packet</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classwireguard_1_1Packet-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">wireguard::Packet Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>For both security and ease of use, we want to use <a class="el" href="classcrypto_1_1string.html" title="A cryptographically secure string.">crypto::string</a> as much as possible. This makes it easy to run all our cryptographic functions on the handshake and transport, but it raises an issue in that these objects are not contiguous values in memory (Or, they are, but casting it into a character array isn't going to get you the bytes). If you tried to just cast the string and send it across the wire, you'd get garbage. Instead, we need to Serialize and Expand from a collection of crypto::strings making up a packet (Whether that be the handshake packets or transport packets), so that we can work with <a class="el" href="classcrypto_1_1string.html" title="A cryptographically secure string.">crypto::string</a>, but be able to serialize it down when we need to send it, and construct it back from bytes when receiving it. To unify this functionality, the <a class="el" href="classwireguard_1_1Packet.html" title="For both security and ease of use, we want to use crypto::string as much as possible....">Packet</a> object contains a list of <a class="el" href="classcrypto_1_1string.html" title="A cryptographically secure string.">crypto::string</a>'s in a vector and will serialize the contents of it, and construct a itself from bytes. Other objects derive from this class, and specify the size of the vector and its elements, and values to access specific parts.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="wireguard_8h_source.html">wireguard.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for wireguard::Packet:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classwireguard_1_1Packet.png" usemap="#wireguard::Packet_map" alt=""/>
  <map id="wireguard::Packet_map" name="wireguard::Packet_map">
<area href="classwireguard_1_1CookiePacket.html" alt="wireguard::CookiePacket" shape="rect" coords="0,56,168,80"/>
<area href="classwireguard_1_1InitPacket.html" title="The initial packet sent from initiator to responder." alt="wireguard::InitPacket" shape="rect" coords="178,56,346,80"/>
<area href="classwireguard_1_1ResponsePacket.html" title="The packet sent by the responder to the initiator during the handshake." alt="wireguard::ResponsePacket" shape="rect" coords="356,56,524,80"/>
<area href="classwireguard_1_1TransportPacket.html" title="A WireGuard packet for sending Transport Messages." alt="wireguard::TransportPacket" shape="rect" coords="534,56,702,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a83e05ab97556fce8c16d6ea0baae979f" id="r_a83e05ab97556fce8c16d6ea0baae979f"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a83e05ab97556fce8c16d6ea0baae979f">Serialize</a> ()</td></tr>
<tr class="memdesc:a83e05ab97556fce8c16d6ea0baae979f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serialize the packet.  <br /></td></tr>
<tr class="separator:a83e05ab97556fce8c16d6ea0baae979f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cb4564cbc8ee97dcab5edfdc69ebcdc" id="r_a6cb4564cbc8ee97dcab5edfdc69ebcdc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6cb4564cbc8ee97dcab5edfdc69ebcdc">Expand</a> (const std::string &amp;buffer, const bool &amp;fill=false)</td></tr>
<tr class="memdesc:a6cb4564cbc8ee97dcab5edfdc69ebcdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a <a class="el" href="classwireguard_1_1Packet.html" title="For both security and ease of use, we want to use crypto::string as much as possible....">Packet</a> from a std::string.  <br /></td></tr>
<tr class="separator:a6cb4564cbc8ee97dcab5edfdc69ebcdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:af50faffb9beb90edbefa611ab82d5e3d" id="r_af50faffb9beb90edbefa611ab82d5e3d"><td class="memItemLeft" align="right" valign="top"><a id="af50faffb9beb90edbefa611ab82d5e3d" name="af50faffb9beb90edbefa611ab82d5e3d"></a>
std::vector&lt; <a class="el" href="classcrypto_1_1string.html">crypto::string</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>values</b></td></tr>
<tr class="separator:af50faffb9beb90edbefa611ab82d5e3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>For both security and ease of use, we want to use <a class="el" href="classcrypto_1_1string.html" title="A cryptographically secure string.">crypto::string</a> as much as possible. This makes it easy to run all our cryptographic functions on the handshake and transport, but it raises an issue in that these objects are not contiguous values in memory (Or, they are, but casting it into a character array isn't going to get you the bytes). If you tried to just cast the string and send it across the wire, you'd get garbage. Instead, we need to Serialize and Expand from a collection of crypto::strings making up a packet (Whether that be the handshake packets or transport packets), so that we can work with <a class="el" href="classcrypto_1_1string.html" title="A cryptographically secure string.">crypto::string</a>, but be able to serialize it down when we need to send it, and construct it back from bytes when receiving it. To unify this functionality, the <a class="el" href="classwireguard_1_1Packet.html" title="For both security and ease of use, we want to use crypto::string as much as possible....">Packet</a> object contains a list of <a class="el" href="classcrypto_1_1string.html" title="A cryptographically secure string.">crypto::string</a>'s in a vector and will serialize the contents of it, and construct a itself from bytes. Other objects derive from this class, and specify the size of the vector and its elements, and values to access specific parts. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a6cb4564cbc8ee97dcab5edfdc69ebcdc" name="a6cb4564cbc8ee97dcab5edfdc69ebcdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cb4564cbc8ee97dcab5edfdc69ebcdc">&#9670;&#160;</a></span>Expand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void wireguard::Packet::Expand </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>buffer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool &amp;</td>          <td class="paramname"><span class="paramname"><em>fill</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct a <a class="el" href="classwireguard_1_1Packet.html" title="For both security and ease of use, we want to use crypto::string as much as possible....">Packet</a> from a std::string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>The byte array obtained by Serialize. </td></tr>
    <tr><td class="paramname">fill</td><td>Some Packets, like the <a class="el" href="classwireguard_1_1TransportPacket.html" title="A WireGuard packet for sending Transport Messages.">TransportPacket</a>, do not have a fixed size for the final element. When fill is enabled, the final member of the vector will be provided the remainder of the string's bytes. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a83e05ab97556fce8c16d6ea0baae979f" name="a83e05ab97556fce8c16d6ea0baae979f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83e05ab97556fce8c16d6ea0baae979f">&#9670;&#160;</a></span>Serialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string wireguard::Packet::Serialize </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Serialize the packet. </p>
<dl class="section return"><dt>Returns</dt><dd>A std::string representation that can be sent across the wire. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/<a class="el" href="wireguard_8h_source.html">wireguard.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
